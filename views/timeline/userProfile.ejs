<%- include('../includes/start.ejs') %>
<link href="/css/user-profile.css" rel="stylesheet">

    <main>
<% if(user) { %>
<div class="centerDiv d-flex justify-content-center">
    <div class="card main-card" style="width:35rem;">
      <div class="card-body">
      <div class="d-flex">
        <img src="<%= user.imagePath %>" class="rounded-image" alt="..." width="150px" height="160px">
        <div class="ms-4 ">
        <h5 class="card-title"><%= user.firstName %> <%= user.lastName %></h5>
        <p class="card-text "><%= user.email %></p>
        <p class="card-text "><%= user.gender %></p>
        <p class="card-text italic-text"><%= user.description %></p>
      </div>
      </div>
      <div class="form-control mt-3">
      <form class=" g-3 needs-validation" method="post" action="/update-profile">
        <div class=" position-relative mt-2">
          <label for="validationTooltip01" class="form-label">First name<span class="required-field">*</span></label>
          <input type="text" name="firstName" value="<%= user.firstName %>" class="form-control" id="validationTooltip01"  required>
          
        </div>
        <div class=" position-relative mt-2">
          <label for="validationTooltip02" class="form-label">Last name<span class="required-field">*</span></label>
          <input type="text" name="lastName" value="<%= user.lastName %>" class="form-control" id="validationTooltip02" required>
         
        </div>
        <div class=" position-relative mt-2">
          <label for="validationTooltip03" class="form-label">Email<span class="required-field">*</span></label>
          <input type="email" name="email" value="<%= user.email %>" class="form-control" id="validationTooltip03" required>

        </div>
        <div class=" position-relative mt-2">
          <label for="imagePath" class="form-label">Profile Picture</label>
          <input type="text" name="imagePath" class="form-control" id="imagePath" >

        </div>
        <div class="position-relative mt-2">
          <label for="description" class="form-label">Description<span class="required-field">*</span></label>
          <textarea class="form-control" id="description" name="postText" rows="3" placeholder="Describe Yourself!"><%= user.description %></textarea>
      </div>
        <div class=" position-relative mb-2 mt-2">
          <label for="validationTooltip04" class="form-label">Gender<span class="required-field">*</span></label>
          <select class="form-select" name="gender" id="validationTooltip04" required>
            <option selected disabled value="">Choose...</option>
            <option  value="Male" <%= user.gender === 'Male' ? "selected" : " " %> >Male</option>
            <option value="Female" <%= user.gender === 'Female' ? "selected" : " " %>>Female</option>
            <option value="Prefer not to say" <%= user.gender === 'Prefer not to say' ? "selected" : " " %>>Prefer Not to Say</option>
          </select>
        <input type="hidden" name="userId" value="<%= user._id %>">

        </div>
        <div class="signupBtn">
          <button class="btn btn-primary" type="submit">Update</button>
        </div>
      </form>
    </div>
      </div>
    </div>
</div>
<% } %>

   

    </main>
<%- include('../includes/end.ejs') %>
